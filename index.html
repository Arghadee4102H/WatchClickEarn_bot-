<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Watch & Earn</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Telegram WebApp script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Monetag SDK -->
    <script src='//whephiwums.com/sdk.js' data-zone='9321934' data-sdk='show_9321934'></script>
</head>
<body>
    <div id="app-loader">
        Loading App...
    </div>

    <div id="app-container" style="display: none;">
        <header>
            <div class="user-info">
                <span id="username-display">User</span> | Points: <span id="points-display">0</span>
            </div>
            <div class="energy-bar-container">
                <div id="energy-bar">
                    <div id="energy-fill"></div>
                </div>
                <span id="energy-text">âš¡100/100</span>
            </div>
        </header>

        <main id="main-content">
            <!-- Profile Section -->
            <section id="profile-page" class="page">
                <h2>Profile</h2>
                <div class="profile-details">
                    <p><strong>Name:</strong> <span id="profile-name">N/A</span></p>
                    <p><strong>User ID:</strong> <span id="profile-user-id">N/A</span></p>
                    <p><strong>Joined:</strong> <span id="profile-join-date">N/A</span></p>
                    <p><strong>Total Points:</strong> <span id="profile-total-points">0</span></p>
                    <p><strong>Referrals:</strong> <span id="profile-total-referrals">0</span></p>
                    <p><strong>Referral Link:</strong> <input type="text" id="profile-referral-link" readonly> <button id="copy-referral-link">Copy</button></p>
                </div>
            </section>

            <!-- Tap Section -->
            <section id="tap-page" class="page active-page">
                <h2>Tap to Earn</h2>
                <div class="tap-area">
                    <div class="image-wrapper" id="tap-image-container">
                        <!-- User's requested image structure -->
                        <img src="assets/tap-rat.png" alt="Tap Me!" id="tap-image">
                        <!-- Make sure you have an image at assets/tap-rat.png or change the src -->
                    </div>
                    <p id="tap-message" class="tap-feedback"></p>
                </div>
                <p>Clicks today: <span id="clicks-today-count">0</span> / <span id="max-clicks-day">2500</span></p>
            </section>

            <!-- Task Section -->
            <section id="task-page" class="page">
                <h2>Tasks</h2>
                <p>Complete tasks to earn points. Tasks refresh daily (UTC).</p>
                <div id="task-list">
                    <!-- Tasks will be loaded here by JavaScript -->
                    <p>Loading tasks...</p>
                </div>
            </section>

            <!-- Watch Ads Section -->
            <section id="ads-page" class="page">
                <h2>Watch Ads</h2>
                <p>Watch an ad to earn <span id="ad-reward-points">40</span> points.</p>
                <p>You can watch <span id="ads-remaining-today">45</span> more ads today.</p>
                <button id="watch-ad-button">Watch Ad (Earn <span class="ad-reward-points-btn">40</span> Points)</button>
                <p id="ad-cooldown-message" style="display:none;">Next ad available in <span id="ad-cooldown-timer"></span>.</p>
                <p id="ad-feedback" class="feedback"></p>
            </section>

            <!-- Withdraw Section -->
            <section id="withdraw-page" class="page">
                <h2>Withdraw Points</h2>
                <p>Current Points: <span id="withdraw-current-points">0</span></p>
                <form id="withdraw-form">
                    <div class="form-group">
                        <label for="withdraw-method">Withdrawal Method:</label>
                        <select id="withdraw-method" name="method">
                            <option value="UPI">UPI</option>
                            <option value="Binance">Binance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="withdraw-amount">Amount (Points):</label>
                        <select id="withdraw-amount" name="amount">
                            <option value="85000">85,000 Points</option>
                            <option value="160000">160,000 Points</option>
                            <option value="300000">300,000 Points</option>
                        </select>
                    </div>
                    <div id="upi-details" class="method-details">
                        <label for="upi-id">UPI ID:</label>
                        <input type="text" id="upi-id" name="upi_id" placeholder="yourname@okhdfcbank">
                    </div>
                    <div id="binance-details" class="method-details" style="display:none;">
                        <label for="binance-address">Binance Address (BEP20 USDT):</label>
                        <input type="text" id="binance-address" name="binance_address" placeholder="0x...">
                        <label for="binance-memo">Binance Memo (if required):</label>
                        <input type="text" id="binance-memo" name="binance_memo" placeholder="Optional Memo">
                    </div>
                    <button type="submit">Request Withdrawal</button>
                </form>
                <p id="withdraw-feedback" class="feedback"></p>
                <h3>Withdrawal History</h3>
                <div id="withdrawal-history-list">
                    <p>Loading history...</p>
                </div>
            </section>
        </main>

        <nav id="bottom-nav">
            <button data-page="profile-page"><i class="fas fa-user"></i> Profile</button>
            <button data-page="tap-page" class="active"><i class="fas fa-hand-pointer"></i> Tap</button>
            <button data-page="task-page"><i class="fas fa-tasks"></i> Tasks</button>
            <button data-page="ads-page"><i class="fas fa-video"></i> Ads</button>
            <button data-page="withdraw-page"><i class="fas fa-wallet"></i> Withdraw</button>
        </nav>
    </div>

    <script src="script.js"></script>
</body>
</html>
